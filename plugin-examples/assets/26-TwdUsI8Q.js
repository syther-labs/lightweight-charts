import{q as u,e as x}from"./lightweight-charts.production-CA2iJLZ7.js";import{g as d}from"./sample-data-x_8-FZm1.js";class m{_p1;_p2;_text1;_text2;_options;constructor(t,e,i,n,o){this._p1=t,this._p2=e,this._text1=i,this._text2=n,this._options=o}draw(t){t.useBitmapCoordinateSpace(e=>{if(this._p1.x===null||this._p1.y===null||this._p2.x===null||this._p2.y===null)return;const i=e.context,n=Math.round(this._p1.x*e.horizontalPixelRatio),o=Math.round(this._p1.y*e.verticalPixelRatio),s=Math.round(this._p2.x*e.horizontalPixelRatio),a=Math.round(this._p2.y*e.verticalPixelRatio);i.lineWidth=this._options.width,i.strokeStyle=this._options.lineColor,i.beginPath(),i.moveTo(n,o),i.lineTo(s,a),i.stroke(),this._options.showLabels&&(this._drawTextLabel(e,this._text1,n,o,!0),this._drawTextLabel(e,this._text2,s,a,!1))})}_drawTextLabel(t,e,i,n,o){t.context.font="24px Arial",t.context.beginPath();const s=5*t.horizontalPixelRatio,a=t.context.measureText(e),_=o?a.width+s*4:0;t.context.fillStyle=this._options.labelBackgroundColor,t.context.roundRect(i+s-_,n-24,a.width+s*2,24+s,5),t.context.fill(),t.context.beginPath(),t.context.fillStyle=this._options.labelTextColor,t.context.fillText(e,i+s*2-_,n)}}class w{_source;_p1={x:null,y:null};_p2={x:null,y:null};constructor(t){this._source=t}update(){const t=this._source._series,e=t.priceToCoordinate(this._source._p1.price),i=t.priceToCoordinate(this._source._p2.price),n=this._source._chart.timeScale(),o=n.timeToCoordinate(this._source._p1.time),s=n.timeToCoordinate(this._source._p2.time);this._p1={x:o,y:e},this._p2={x:s,y:i}}renderer(){return new m(this._p1,this._p2,""+this._source._p1.price.toFixed(1),""+this._source._p2.price.toFixed(1),this._source._options)}}const f={lineColor:"rgb(0, 0, 0)",width:6,showLabels:!0,labelBackgroundColor:"rgba(255, 255, 255, 0.85)",labelTextColor:"rgb(0, 0, 0)"};class T{_chart;_series;_p1;_p2;_paneViews;_options;_minPrice;_maxPrice;constructor(t,e,i,n,o){this._chart=t,this._series=e,this._p1=i,this._p2=n,this._minPrice=Math.min(this._p1.price,this._p2.price),this._maxPrice=Math.max(this._p1.price,this._p2.price),this._options={...f,...o},this._paneViews=[new w(this)]}autoscaleInfo(t,e){const i=this._pointIndex(this._p1),n=this._pointIndex(this._p2);return i===null||n===null||e<i||t>n?null:{priceRange:{minValue:this._minPrice,maxValue:this._maxPrice}}}updateAllViews(){this._paneViews.forEach(t=>t.update())}paneViews(){return this._paneViews}_pointIndex(t){const e=this._chart.timeScale().timeToCoordinate(t.time);return e===null?null:this._chart.timeScale().coordinateToLogical(e)}}const p=window.chart=u("chart",{autoSize:!0}),h=p.addSeries(x),r=d();h.setData(r);const l=r.length,P={time:r[l-50].time,price:r[l-50].value*.9},b={time:r[l-5].time,price:r[l-5].value*1.1},S=new T(p,h,P,b);h.attachPrimitive(S);
